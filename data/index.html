<!DOCTYPE HTML><html>
<head>
  <title>Space Heater Controller - Offline</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
    h1 { color: #333; }
    h2 { color: #666; border-bottom: 2px solid #4CAF50; padding-bottom: 5px; }
    h3 { color: #4CAF50; }
    form { background-color: white; padding: 15px; margin: 10px 0; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    input[type="number"], input[type="text"], input[type="time"] { padding: 8px; margin: 5px; border: 1px solid #ddd; border-radius: 3px; }
    input[type="submit"] { padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 3px; cursor: pointer; }
    input[type="submit"]:hover { background-color: #45a049; }
    .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
    .status.on { background-color: #d4edda; color: #155724; }
    .status.off { background-color: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <h1>Space Heater Controller</h1>
  <h2>Status</h2>
  <div class="status %STATE%">
    <h3>Heater State: %STATE%</h3>
    <p>Current Temperature: %CURRENTTEMP%°F</p>
    <p>Current Time: %CURRENTTIME%</p>
  </div>
  
  <h2>Configuration</h2>
  
  <form action="/temp" method="POST">
    <h3>Temperature Range (°F)</h3>
    <label>Min Temperature: <input type="number" name="tempMin" value="%TEMPMIN" step="0.1"></label>
    <label>Max Temperature: <input type="number" name="tempMax" value="%TEMPMAX" step="0.1"></label>
    <input type="submit" value="Update Temperature Range">
  </form>
  
  <form action="/time" method="POST">
    <h3>Active Time Window</h3>
    <label>Start Time: <input type="time" name="timeOn" value="%TIMEON"></label>
    <label>End Time: <input type="time" name="timeOff" value="%TIMEOFF"></label>
    <input type="submit" value="Update Time Window">
  </form>
  
  <form action="/settime" method="POST">
    <h3>Set Current Time</h3>
    <label>Hour (0-23): <input type="number" name="hour" min="0" max="23" value="%CURRENTHOUR%"></label>
    <label>Minute (0-59): <input type="number" name="minute" min="0" max="59" value="%CURRENTMINUTE%"></label>
    <input type="submit" value="Set Time">
  </form>
  
  <form action="/wifi" method="POST">
    <h3>WiFi Configuration (Optional)</h3>
    <p>Leave blank to use Access Point mode (offline)</p>
    <label>SSID: <input type="text" name="ssid" placeholder="WiFi Network Name"></label>
    <label>Password: <input type="text" name="password" placeholder="WiFi Password"></label>
    <input type="submit" value="Save WiFi Config">
  </form>
  
  <form action="/check" method="POST">
    <input type="submit" value="Check Temperature Now">
  </form>
  
  <form action="/log">
    <input type="submit" value="View Log">
  </form>
  
  <form action="/clearLog" method="POST">
    <input type="submit" value="Clear Log">
  </form>
  
  <hr>
  <p><small>Offline Mode - No Internet Required</small></p>
</body>
</html>
